var ft=Object.defineProperty;var ot=(e,t,n)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $=(e,t,n)=>(ot(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();function q(){}function je(e,t){for(const n in t)e[n]=t[n];return e}function Je(e){return e()}function Ce(){return Object.create(null)}function de(e){e.forEach(Je)}function Ze(e){return typeof e=="function"}function _e(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ct(e){return Object.keys(e).length===0}function dt(e,...t){if(e==null){for(const i of t)i(void 0);return q}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function He(e,t,n){e.$$.on_destroy.push(dt(t,n))}function ht(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Be(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function Ee(e,t,n){return e.set(n),t}function V(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function mt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function F(e){return document.createElement(e)}function le(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function re(e){return document.createTextNode(e)}function ie(){return re(" ")}function be(){return re("")}function ne(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function We(e,t){for(const n in t)b(e,n,t[n])}function gt(e){return Array.from(e.childNodes)}function me(e,t){t=""+t,e.data!==t&&(e.data=t)}function bt(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}class Xe{constructor(t=!1){$(this,"is_svg",!1);$(this,"e");$(this,"n");$(this,"t");$(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,i=null){this.e||(this.is_svg?this.e=le(n.nodeName):this.e=F(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)C(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(T)}}let ve;function ge(e){ve=e}function vt(){if(!ve)throw new Error("Function called outside component initialization");return ve}function _t(){const e=vt();return(t,n,{cancelable:i=!1}={})=>{const r=e.$$.callbacks[t];if(r){const u=bt(t,n,{cancelable:i});return r.slice().forEach(s=>{s.call(e,u)}),!u.defaultPrevented}return!0}}const oe=[],Le=[];let ce=[];const Ye=[],Ge=Promise.resolve();let Ie=!1;function Qe(){Ie||(Ie=!0,Ge.then(xe))}function Ve(){return Qe(),Ge}function Pe(e){ce.push(e)}const Ae=new Set;let ae=0;function xe(){if(ae!==0)return;const e=ve;do{try{for(;ae<oe.length;){const t=oe[ae];ae++,ge(t),yt(t.$$)}}catch(t){throw oe.length=0,ae=0,t}for(ge(null),oe.length=0,ae=0;Le.length;)Le.pop()();for(let t=0;t<ce.length;t+=1){const n=ce[t];Ae.has(n)||(Ae.add(n),n())}ce.length=0}while(oe.length);for(;Ye.length;)Ye.pop()();Ie=!1,Ae.clear(),ge(e)}function yt(e){if(e.fragment!==null){e.update(),de(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Pe)}}function pt(e){const t=[],n=[];ce.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),ce=t}const pe=new Set;let kt;function Me(e,t){e&&e.i&&(pe.delete(e),e.i(t))}function Te(e,t,n,i){if(e&&e.o){if(pe.has(e))return;pe.add(e),kt.c.push(()=>{pe.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function Ue(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Mt(e,t){const n={},i={},r={$$scope:1};let u=e.length;for(;u--;){const s=e[u],l=t[u];if(l){for(const d in s)d in l||(i[d]=1);for(const d in l)r[d]||(n[d]=l[d],r[d]=1);e[u]=l}else for(const d in s)r[d]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Ne(e){e&&e.c()}function Oe(e,t,n){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),Pe(()=>{const u=e.$$.on_mount.map(Je).filter(Ze);e.$$.on_destroy?e.$$.on_destroy.push(...u):de(u),e.$$.on_mount=[]}),r.forEach(Pe)}function we(e,t){const n=e.$$;n.fragment!==null&&(pt(n.after_update),de(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ot(e,t){e.$$.dirty[0]===-1&&(oe.push(e),Qe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function De(e,t,n,i,r,u,s=null,l=[-1]){const d=ve;ge(e);const h=e.$$={fragment:null,ctx:[],props:u,update:q,not_equal:r,bound:Ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:Ce(),dirty:l,skip_bound:!1,root:t.target||d.$$.root};s&&s(h.root);let S=!1;if(h.ctx=n?n(e,t.props||{},(O,M,..._)=>{const v=_.length?_[0]:M;return h.ctx&&r(h.ctx[O],h.ctx[O]=v)&&(!h.skip_bound&&h.bound[O]&&h.bound[O](v),S&&Ot(e,O)),M}):[],h.update(),S=!0,de(h.before_update),h.fragment=i?i(h.ctx):!1,t.target){if(t.hydrate){const O=gt(t.target);h.fragment&&h.fragment.l(O),O.forEach(T)}else h.fragment&&h.fragment.c();t.intro&&Me(e.$$.fragment),Oe(e,t.target,t.anchor),xe()}ge(d)}class Se{constructor(){$(this,"$$");$(this,"$$set")}$destroy(){we(this,1),this.$destroy=q}$on(t,n){if(!Ze(n))return q;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!ct(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const wt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(wt);var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function St(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $e={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Dt,function(){var n=1e3,i=6e4,r=36e5,u="millisecond",s="second",l="minute",d="hour",h="day",S="week",O="month",M="quarter",_="year",v="date",U="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var c=["th","st","nd","rd"],f=y%100;return"["+y+(c[(f-20)%10]||c[f]||c[0])+"]"}},D=function(y,c,f){var g=String(y);return!g||g.length>=c?y:""+Array(c+1-g.length).join(f)+y},j={s:D,z:function(y){var c=-y.utcOffset(),f=Math.abs(c),g=Math.floor(f/60),o=f%60;return(c<=0?"+":"-")+D(g,2,"0")+":"+D(o,2,"0")},m:function y(c,f){if(c.date()<f.date())return-y(f,c);var g=12*(f.year()-c.year())+(f.month()-c.month()),o=c.clone().add(g,O),p=f-o<0,k=c.clone().add(g+(p?-1:1),O);return+(-(g+(f-o)/(p?o-k:k-o))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:O,y:_,w:S,d:h,D:v,h:d,m:l,s,ms:u,Q:M}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},z="en",K={};K[z]=m;var se="$isDayjsObject",J=function(y){return y instanceof ee||!(!y||!y[se])},Q=function y(c,f,g){var o;if(!c)return z;if(typeof c=="string"){var p=c.toLowerCase();K[p]&&(o=p),f&&(K[p]=f,o=p);var k=c.split("-");if(!o&&k.length>1)return y(k[0])}else{var E=c.name;K[E]=c,o=E}return!g&&o&&(z=o),o||!g&&z},I=function(y,c){if(J(y))return y.clone();var f=typeof c=="object"?c:{};return f.date=y,f.args=arguments,new ee(f)},w=j;w.l=Q,w.i=J,w.w=function(y,c){return I(y,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var ee=function(){function y(f){this.$L=Q(f.locale,null,!0),this.parse(f),this.$x=this.$x||f.x||{},this[se]=!0}var c=y.prototype;return c.parse=function(f){this.$d=function(g){var o=g.date,p=g.utc;if(o===null)return new Date(NaN);if(w.u(o))return new Date;if(o instanceof Date)return new Date(o);if(typeof o=="string"&&!/Z$/i.test(o)){var k=o.match(B);if(k){var E=k[2]-1||0,H=(k[7]||"0").substring(0,3);return p?new Date(Date.UTC(k[1],E,k[3]||1,k[4]||0,k[5]||0,k[6]||0,H)):new Date(k[1],E,k[3]||1,k[4]||0,k[5]||0,k[6]||0,H)}}return new Date(o)}(f),this.init()},c.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},c.$utils=function(){return w},c.isValid=function(){return this.$d.toString()!==U},c.isSame=function(f,g){var o=I(f);return this.startOf(g)<=o&&o<=this.endOf(g)},c.isAfter=function(f,g){return I(f)<this.startOf(g)},c.isBefore=function(f,g){return this.endOf(g)<I(f)},c.$g=function(f,g,o){return w.u(f)?this[g]:this.set(o,f)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(f,g){var o=this,p=!!w.u(g)||g,k=w.p(f),E=function(R,Y){var Z=w.w(o.$u?Date.UTC(o.$y,Y,R):new Date(o.$y,Y,R),o);return p?Z:Z.endOf(h)},H=function(R,Y){return w.w(o.toDate()[R].apply(o.toDate("s"),(p?[0,0,0,0]:[23,59,59,999]).slice(Y)),o)},L=this.$W,N=this.$M,W=this.$D,X="set"+(this.$u?"UTC":"");switch(k){case _:return p?E(1,0):E(31,11);case O:return p?E(1,N):E(0,N+1);case S:var G=this.$locale().weekStart||0,x=(L<G?L+7:L)-G;return E(p?W-x:W+(6-x),N);case h:case v:return H(X+"Hours",0);case d:return H(X+"Minutes",1);case l:return H(X+"Seconds",2);case s:return H(X+"Milliseconds",3);default:return this.clone()}},c.endOf=function(f){return this.startOf(f,!1)},c.$set=function(f,g){var o,p=w.p(f),k="set"+(this.$u?"UTC":""),E=(o={},o[h]=k+"Date",o[v]=k+"Date",o[O]=k+"Month",o[_]=k+"FullYear",o[d]=k+"Hours",o[l]=k+"Minutes",o[s]=k+"Seconds",o[u]=k+"Milliseconds",o)[p],H=p===h?this.$D+(g-this.$W):g;if(p===O||p===_){var L=this.clone().set(v,1);L.$d[E](H),L.init(),this.$d=L.set(v,Math.min(this.$D,L.daysInMonth())).$d}else E&&this.$d[E](H);return this.init(),this},c.set=function(f,g){return this.clone().$set(f,g)},c.get=function(f){return this[w.p(f)]()},c.add=function(f,g){var o,p=this;f=Number(f);var k=w.p(g),E=function(N){var W=I(p);return w.w(W.date(W.date()+Math.round(N*f)),p)};if(k===O)return this.set(O,this.$M+f);if(k===_)return this.set(_,this.$y+f);if(k===h)return E(1);if(k===S)return E(7);var H=(o={},o[l]=i,o[d]=r,o[s]=n,o)[k]||1,L=this.$d.getTime()+f*H;return w.w(L,this)},c.subtract=function(f,g){return this.add(-1*f,g)},c.format=function(f){var g=this,o=this.$locale();if(!this.isValid())return o.invalidDate||U;var p=f||"YYYY-MM-DDTHH:mm:ssZ",k=w.z(this),E=this.$H,H=this.$m,L=this.$M,N=o.weekdays,W=o.months,X=o.meridiem,G=function(Y,Z,te,ue){return Y&&(Y[Z]||Y(g,p))||te[Z].slice(0,ue)},x=function(Y){return w.s(E%12||12,Y,"0")},R=X||function(Y,Z,te){var ue=Y<12?"AM":"PM";return te?ue.toLowerCase():ue};return p.replace(A,function(Y,Z){return Z||function(te){switch(te){case"YY":return String(g.$y).slice(-2);case"YYYY":return w.s(g.$y,4,"0");case"M":return L+1;case"MM":return w.s(L+1,2,"0");case"MMM":return G(o.monthsShort,L,W,3);case"MMMM":return G(W,L);case"D":return g.$D;case"DD":return w.s(g.$D,2,"0");case"d":return String(g.$W);case"dd":return G(o.weekdaysMin,g.$W,N,2);case"ddd":return G(o.weekdaysShort,g.$W,N,3);case"dddd":return N[g.$W];case"H":return String(E);case"HH":return w.s(E,2,"0");case"h":return x(1);case"hh":return x(2);case"a":return R(E,H,!0);case"A":return R(E,H,!1);case"m":return String(H);case"mm":return w.s(H,2,"0");case"s":return String(g.$s);case"ss":return w.s(g.$s,2,"0");case"SSS":return w.s(g.$ms,3,"0");case"Z":return k}return null}(Y)||k.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(f,g,o){var p,k=this,E=w.p(g),H=I(f),L=(H.utcOffset()-this.utcOffset())*i,N=this-H,W=function(){return w.m(k,H)};switch(E){case _:p=W()/12;break;case O:p=W();break;case M:p=W()/3;break;case S:p=(N-L)/6048e5;break;case h:p=(N-L)/864e5;break;case d:p=N/r;break;case l:p=N/i;break;case s:p=N/n;break;default:p=N}return o?p:w.a(p)},c.daysInMonth=function(){return this.endOf(O).$D},c.$locale=function(){return K[this.$L]},c.locale=function(f,g){if(!f)return this.$L;var o=this.clone(),p=Q(f,g,!0);return p&&(o.$L=p),o},c.clone=function(){return w.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},y}(),he=ee.prototype;return I.prototype=he,[["$ms",u],["$s",s],["$m",l],["$H",d],["$W",h],["$M",O],["$y",_],["$D",v]].forEach(function(y){he[y[1]]=function(c){return this.$g(c,y[0],y[1])}}),I.extend=function(y,c){return y.$i||(y(c,ee,I),y.$i=!0),I},I.locale=Q,I.isDayjs=J,I.unix=function(y){return I(1e3*y)},I.en=K[z],I.Ls=K,I.p={},I})})($e);var Et=$e.exports;const At=St(Et),fe=[];function et(e,t=q){let n;const i=new Set;function r(l){if(_e(e,l)&&(e=l,n)){const d=!fe.length;for(const h of i)h[1](),fe.push(h,e);if(d){for(let h=0;h<fe.length;h+=2)fe[h][0](fe[h+1]);fe.length=0}}}function u(l){r(l(e))}function s(l,d=q){const h=[l,d];return i.add(h),i.size===1&&(n=t(r,u)||q),l(e),()=>{i.delete(h),i.size===0&&n&&(n(),n=null)}}return{set:r,update:u,subscribe:s}}const ke=et({}),Re=et({});function ze(e,t,n){const i=e.slice();return i[55]=t[n][0],i[56]=t[n][1],i[58]=n,i}function Fe(e){let t,n;return{c(){t=le("polyline"),b(t,"points",n=e[29].join(" ")),b(t,"stroke",e[18]),b(t,"fill","transparent")},m(i,r){C(i,t,r)},p(i,r){r[0]&536870912&&n!==(n=i[29].join(" "))&&b(t,"points",n),r[0]&262144&&b(t,"stroke",i[18])},d(i){i&&T(t)}}}function jt(e){let t,n,i,r,u;return{c(){t=le("circle"),b(t,"fill",n=e[9]&&e[26][e[23]]!==null&&e[26][e[23]]==e[55]?e[7]:"transparent"),b(t,"r",i=e[5]?parseInt(e[4]):e[24]/2),b(t,"cy",r=e[2]-e[30](e[56])),b(t,"cx",u=(parseInt(e[6])+e[24]+e[24]/Object.keys(e[0]).length)*e[58])},m(s,l){C(s,t,l)},p(s,l){l[0]&75498113&&n!==(n=s[9]&&s[26][s[23]]!==null&&s[26][s[23]]==s[55]?s[7]:"transparent")&&b(t,"fill",n),l[0]&16777264&&i!==(i=s[5]?parseInt(s[4]):s[24]/2)&&b(t,"r",i),l[0]&5&&r!==(r=s[2]-s[30](s[56]))&&b(t,"cy",r),l[0]&16777281&&u!==(u=(parseInt(s[6])+s[24]+s[24]/Object.keys(s[0]).length)*s[58])&&b(t,"cx",u)},d(s){s&&T(t)}}}function Ht(e){let t,n,i,r,u,s;return{c(){t=le("rect"),b(t,"style",n=e[10]?`transition: all ${e[10]}ms`:null),b(t,"opacity",i=e[9]&&e[26][e[23]]&&e[26][e[23]]!=e[55]?e[8]:1),b(t,"fill",e[7]),b(t,"width",e[24]),b(t,"height",r=e[17]=="line"?e[2]:e[30](e[56])),b(t,"x",u=(parseInt(e[6])+e[24])*e[58]),b(t,"y",s=e[2]-e[30](e[56]))},m(l,d){C(l,t,d)},p(l,d){d[0]&1024&&n!==(n=l[10]?`transition: all ${l[10]}ms`:null)&&b(t,"style",n),d[0]&75498241&&i!==(i=l[9]&&l[26][l[23]]&&l[26][l[23]]!=l[55]?l[8]:1)&&b(t,"opacity",i),d[0]&128&&b(t,"fill",l[7]),d[0]&16777216&&b(t,"width",l[24]),d[0]&131077&&r!==(r=l[17]=="line"?l[2]:l[30](l[56]))&&b(t,"height",r),d[0]&16777280&&u!==(u=(parseInt(l[6])+l[24])*l[58])&&b(t,"x",u),d[0]&5&&s!==(s=l[2]-l[30](l[56]))&&b(t,"y",s)},d(l){l&&T(t)}}}function qe(e){let t,n,i,r;function u(_,v){if(_[17]=="bar")return Ht;if(_[17]=="line")return jt}let s=u(e),l=s&&s(e);function d(){return e[43](e[55],e[58])}function h(){return e[44](e[55],e[58])}function S(){return e[45](e[55],e[58])}function O(){return e[46](e[55],e[58])}function M(){return e[47](e[55],e[58])}return{c(){l&&l.c(),t=le("rect"),b(t,"width",e[24]),b(t,"height",e[2]),b(t,"fill","transparent"),b(t,"x",n=(parseInt(e[6])+e[24])*e[58]),b(t,"tabindex",e[19])},m(_,v){l&&l.m(_,v),C(_,t,v),i||(r=[ne(t,"mouseover",d),ne(t,"focus",h),ne(t,"touchstart",S,{passive:!0}),ne(t,"click",O),ne(t,"keypress",M)],i=!0)},p(_,v){e=_,s===(s=u(e))&&l?l.p(e,v):(l&&l.d(1),l=s&&s(e),l&&(l.c(),l.m(t.parentNode,t))),v[0]&16777216&&b(t,"width",e[24]),v[0]&4&&b(t,"height",e[2]),v[0]&16777280&&n!==(n=(parseInt(e[6])+e[24])*e[58])&&b(t,"x",n),v[0]&524288&&b(t,"tabindex",e[19])},d(_){_&&T(t),l&&l.d(_),i=!1,de(r)}}}function Ke(e){let t,n;function i(s,l){return s[27][s[1]]!==null?It:Lt}let r=i(e),u=r(e);return{c(){t=F("div"),u.c(),b(t,"class","tiny-linked-charts-value"),b(t,"style",n=e[15]=="floating"?`position: absolute; transform: translateX(${e[28]}px)`:null)},m(s,l){C(s,t,l),u.m(t,null)},p(s,l){r===(r=i(s))&&u?u.p(s,l):(u.d(1),u=r(s),u&&(u.c(),u.m(t,null))),l[0]&268468224&&n!==(n=s[15]=="floating"?`position: absolute; transform: translateX(${s[28]}px)`:null)&&b(t,"style",n)},d(s){s&&T(t),u.d()}}}function Lt(e){let t,n;return{c(){t=new Xe(!1),n=be(),t.a=n},m(i,r){t.m(e[12],i,r),C(i,n,r)},p(i,r){r[0]&4096&&t.p(i[12])},d(i){i&&(T(n),t.d())}}}function It(e){let t,n,i,r=(e[27][e[1]]||e[16])+"",u,s,l;return{c(){t=re(e[13]),n=ie(),i=F("span"),u=re(r),s=ie(),l=re(e[14])},m(d,h){C(d,t,h),C(d,n,h),C(d,i,h),V(i,u),e[48](i),C(d,s,h),C(d,l,h)},p(d,h){h[0]&8192&&me(t,d[13]),h[0]&134283266&&r!==(r=(d[27][d[1]]||d[16])+"")&&me(u,r),h[0]&16384&&me(l,d[14])},d(d){d&&(T(t),T(n),T(i),T(s),T(l)),e[48](null)}}}function Pt(e){let t,n,i,r,u,s,l,d,h,S,O,M=e[17]=="line"&&Fe(e),_=Ue(Object.entries(e[0])),v=[];for(let m=0;m<_.length;m+=1)v[m]=qe(ze(e,_,m));let U=[{width:e[3]},{height:u=e[17]=="line"?e[2]+e[24]/2:e[2]},{viewBox:s="0 0 "+e[3]+" "+e[2]},{preserveAspectRatio:l=e[20]?"true":"none"},e[33]],B={};for(let m=0;m<U.length;m+=1)B=je(B,U[m]);let A=e[11]&&(e[27][e[1]]||e[12])&&Ke(e);return{c(){t=le("svg"),n=le("g"),M&&M.c(),i=be();for(let m=0;m<v.length;m+=1)v[m].c();d=ie(),A&&A.c(),h=be(),b(n,"transform",r="translate("+e[25]+", 0)"),We(t,B)},m(m,D){C(m,t,D),V(t,n),M&&M.m(n,null),V(n,i);for(let j=0;j<v.length;j+=1)v[j]&&v[j].m(n,null);C(m,d,D),A&&A.m(m,D),C(m,h,D),S||(O=[ne(t,"mouseleave",e[32]),ne(t,"blur",e[32])],S=!0)},p(m,D){if(m[17]=="line"?M?M.p(m,D):(M=Fe(m),M.c(),M.m(n,i)):M&&(M.d(1),M=null),D[0]&1168771061|D[1]&1){_=Ue(Object.entries(m[0]));let j;for(j=0;j<_.length;j+=1){const z=ze(m,_,j);v[j]?v[j].p(z,D):(v[j]=qe(z),v[j].c(),v[j].m(n,null))}for(;j<v.length;j+=1)v[j].d(1);v.length=_.length}D[0]&33554432&&r!==(r="translate("+m[25]+", 0)")&&b(n,"transform",r),We(t,B=Mt(U,[D[0]&8&&{width:m[3]},D[0]&16908292&&u!==(u=m[17]=="line"?m[2]+m[24]/2:m[2])&&{height:u},D[0]&12&&s!==(s="0 0 "+m[3]+" "+m[2])&&{viewBox:s},D[0]&1048576&&l!==(l=m[20]?"true":"none")&&{preserveAspectRatio:l},D[1]&4&&m[33]])),m[11]&&(m[27][m[1]]||m[12])?A?A.p(m,D):(A=Ke(m),A.c(),A.m(h.parentNode,h)):A&&(A.d(1),A=null)},i:q,o:q,d(m){m&&(T(t),T(d),T(h)),M&&M.d(),mt(v,m),A&&A.d(m),S=!1,de(O)}}}function Tt(e,t,n){let i,r,u,s,l;const d=["uid","data","labels","values","linked","height","width","barMinWidth","barMinHeight","hideBarBelow","grow","align","gap","fill","fadeOpacity","hover","transition","showValue","valueDefault","valuePrepend","valueAppend","valuePosition","valueUndefined","scaleMax","type","lineColor","tabindex","dispatchEvents","preserveAspectRatio","clickHandler"];let h=Be(t,d),S,O;He(e,ke,a=>n(26,S=a)),He(e,Re,a=>n(27,O=a));let{uid:M=(Math.random()+1).toString(36).substring(7)}=t,{data:_={}}=t,{labels:v=[]}=t,{values:U=[]}=t,{linked:B=""}=t,{height:A=40}=t,{width:m=150}=t,{barMinWidth:D=4}=t,{barMinHeight:j=0}=t,{hideBarBelow:z=0}=t,{grow:K=!1}=t,{align:se="right"}=t,{gap:J=1}=t,{fill:Q="#ff3e00"}=t,{fadeOpacity:I=.5}=t,{hover:w=!0}=t,{transition:ee=0}=t,{showValue:he=!1}=t,{valueDefault:y="&nbsp;"}=t,{valuePrepend:c=""}=t,{valueAppend:f=""}=t,{valuePosition:g="static"}=t,{valueUndefined:o=0}=t,{scaleMax:p=0}=t,{type:k="bar"}=t,{lineColor:E=Q}=t,{tabindex:H=-1}=t,{dispatchEvents:L=!1}=t,{preserveAspectRatio:N=!1}=t,{clickHandler:W=(a,P)=>null}=t;const X=_t();let G=0,x=[],R;function Y(){return p||(i?Math.max(...Object.values(_)):0)}function Z(a){return a<z?0:Math.max(Math.ceil(parseInt(A)/u*a-(k=="line"?r/2:0))||0,j)}function te(){return Math.max((parseInt(m)-i*parseInt(J))/i,parseInt(D))}function ue(){return se=="left"?0:parseInt(J)+parseInt(m)-(parseInt(J)+r)*i}function tt(){let a=[];for(let P=0;P<Object.keys(_).length;P++)a.push([P*(r+parseInt(J)+r/Object.keys(_).length),A-Z(Object.values(_)[P])]);return a}async function ye(a,P){w&&(Ee(ke,S[l]=a,S),await Ve(),L&&X("hover",{uid:M,key:a,index:P,linkedKey:l,value:O[M],valueElement:R,eventElement:event.target}))}async function nt(){w&&(Ee(ke,S[l]=null,S),await Ve(),L&&X("blur",{uid:M,linkedKey:l,valueElement:R,eventElement:event.target}))}const it=(a,P)=>ye(a,P),rt=(a,P)=>ye(a,P),lt=(a,P)=>ye(a,P),st=(a,P)=>W(a,P),ut=(a,P)=>W(a,P);function at(a){Le[a?"unshift":"push"](()=>{R=a,n(22,R)})}return e.$$set=a=>{t=je(je({},t),ht(a)),n(33,h=Be(t,d)),"uid"in a&&n(1,M=a.uid),"data"in a&&n(0,_=a.data),"labels"in a&&n(34,v=a.labels),"values"in a&&n(35,U=a.values),"linked"in a&&n(36,B=a.linked),"height"in a&&n(2,A=a.height),"width"in a&&n(3,m=a.width),"barMinWidth"in a&&n(4,D=a.barMinWidth),"barMinHeight"in a&&n(37,j=a.barMinHeight),"hideBarBelow"in a&&n(38,z=a.hideBarBelow),"grow"in a&&n(5,K=a.grow),"align"in a&&n(39,se=a.align),"gap"in a&&n(6,J=a.gap),"fill"in a&&n(7,Q=a.fill),"fadeOpacity"in a&&n(8,I=a.fadeOpacity),"hover"in a&&n(9,w=a.hover),"transition"in a&&n(10,ee=a.transition),"showValue"in a&&n(11,he=a.showValue),"valueDefault"in a&&n(12,y=a.valueDefault),"valuePrepend"in a&&n(13,c=a.valuePrepend),"valueAppend"in a&&n(14,f=a.valueAppend),"valuePosition"in a&&n(15,g=a.valuePosition),"valueUndefined"in a&&n(16,o=a.valueUndefined),"scaleMax"in a&&n(40,p=a.scaleMax),"type"in a&&n(17,k=a.type),"lineColor"in a&&n(18,E=a.lineColor),"tabindex"in a&&n(19,H=a.tabindex),"dispatchEvents"in a&&n(41,L=a.dispatchEvents),"preserveAspectRatio"in a&&n(20,N=a.preserveAspectRatio),"clickHandler"in a&&n(21,W=a.clickHandler)},e.$$.update=()=>{e.$$.dirty[1]&24&&v.length&&U.length&&n(0,_=Object.fromEntries(v.map((a,P)=>[v[P],U[P]]))),e.$$.dirty[0]&1&&n(42,i=Object.keys(_).length),e.$$.dirty[0]&48|e.$$.dirty[1]&2048&&n(24,r=K?te():parseInt(D)),e.$$.dirty[0]&1&&(u=Y()),e.$$.dirty[1]&2048&&n(25,s=i?ue():0),e.$$.dirty[1]&32&&n(23,l=B||(Math.random()+1).toString(36).substring(7)),e.$$.dirty[0]&75497475&&Ee(Re,O[M]=S[l]?_[S[l]]:null,O),e.$$.dirty[0]&125861953&&g=="floating"&&n(28,G=(parseInt(J)+r)*Object.keys(_).indexOf(S[l])+s),e.$$.dirty[0]&131073&&k=="line"&&n(29,x=tt()),e.$$.dirty[0]&146800642|e.$$.dirty[1]&1024&&L&&X("value-update",{value:O[M],uid:M,linkedKey:l,valueElement:R}),e.$$.dirty[0]&524288&&H>0&&console.warn("Tabindex should not be higher than 0")},[_,M,A,m,D,K,J,Q,I,w,ee,he,y,c,f,g,o,k,E,H,N,W,R,l,r,s,S,O,G,x,Z,ye,nt,h,v,U,B,j,z,se,p,L,i,it,rt,lt,st,ut,at]}class Nt extends Se{constructor(t){super(),De(this,t,Tt,Pt,_e,{uid:1,data:0,labels:34,values:35,linked:36,height:2,width:3,barMinWidth:4,barMinHeight:37,hideBarBelow:38,grow:5,align:39,gap:6,fill:7,fadeOpacity:8,hover:9,transition:10,showValue:11,valueDefault:12,valuePrepend:13,valueAppend:14,valuePosition:15,valueUndefined:16,scaleMax:40,type:17,lineColor:18,tabindex:19,dispatchEvents:41,preserveAspectRatio:20,clickHandler:21},null,[-1,-1])}}function Ct(e){let t,n;return{c(){t=new Xe(!1),n=be(),t.a=n},m(i,r){t.m(e[0],i,r),C(i,n,r)},p(i,r){r&1&&t.p(i[0])},d(i){i&&(T(n),t.d())}}}function Bt(e){let t;return{c(){t=re(e[1])},m(n,i){C(n,t,i)},p(n,i){i&2&&me(t,n[1])},d(n){n&&T(t)}}}function Wt(e){let t;function n(u,s){return u[1]?Bt:Ct}let i=n(e),r=i(e);return{c(){r.c(),t=be()},m(u,s){r.m(u,s),C(u,t,s)},p(u,[s]){i===(i=n(u))&&r?r.p(u,s):(r.d(1),r=i(u),r&&(r.c(),r.m(t.parentNode,t)))},i:q,o:q,d(u){u&&T(t),r.d(u)}}}function Yt(e,t,n){let i,r;He(e,ke,l=>n(3,r=l));let{linked:u}=t,{empty:s="&nbsp;"}=t;return e.$$set=l=>{"linked"in l&&n(2,u=l.linked),"empty"in l&&n(0,s=l.empty)},e.$$.update=()=>{e.$$.dirty&12&&n(1,i=r[u])},[s,i,u,r]}class Vt extends Se{constructor(t){super(),De(this,t,Yt,Wt,_e,{linked:2,empty:0})}}function Ut(e){let t,n,i,r,u,s,l,d,h,S,O,M,_,v,U,B,A;return v=new Vt({props:{linked:"bilibili"}}),B=new Nt({props:{labels:e[1],values:e[2],showValue:!0,width:800,height:100,barMinWidth:5,fadeOpacity:.3,fill:"rgb(255, 0, 0)",valueAppend:"followers",valuePosition:"floating",linked:"bilibili"}}),{c(){t=F("div"),n=F("div"),i=F("div"),i.innerHTML='<h1 class="text-3xl mr-2"><a class="hover:color-indigo" href="https://space.bilibili.com/401315430" target="_blank">XingTong</a></h1> <p class="text-lg text-gray-500 mt-2 md:mt-0">bilibili followers trend</p>',r=ie(),u=F("div"),s=F("span"),s.textContent="Last update:",l=ie(),d=F("span"),h=F("a"),S=re(e[0]),O=ie(),M=F("div"),_=F("div"),Ne(v.$$.fragment),U=ie(),Ne(B.$$.fragment),b(i,"class","md:flex items-end"),b(s,"class","text-gray-400 mr-1"),b(h,"class","hover:color-indigo"),b(h,"href","https://github.com/ixingtong/visualization/blob/main/archive/bilibili.json"),b(h,"target","_blank"),b(d,"class","text-gray-600"),b(u,"class","mt-3 md:mt-0"),b(n,"class","absolute top-0 left-0 right-0 p-4 font-mono md:flex justify-between items-center"),b(_,"class","!md:w-[800px] w-screen overflow-auto"),b(M,"class","w-full h-full flex flex-col justify-center items-center"),b(t,"class","h-screen w-screen")},m(m,D){C(m,t,D),V(t,n),V(n,i),V(n,r),V(n,u),V(u,s),V(u,l),V(u,d),V(d,h),V(h,S),V(t,O),V(t,M),V(M,_),Oe(v,_,null),V(_,U),Oe(B,_,null),A=!0},p(m,[D]){(!A||D&1)&&me(S,m[0]);const j={};D&2&&(j.labels=m[1]),D&4&&(j.values=m[2]),B.$set(j)},i(m){A||(Me(v.$$.fragment,m),Me(B.$$.fragment,m),A=!0)},o(m){Te(v.$$.fragment,m),Te(B.$$.fragment,m),A=!1},d(m){m&&T(t),we(v),we(B)}}}function Rt(e,t,n){let i,r=[],u=[];async function s(){const d=await(await fetch("/bilibili.json")).json();n(0,i=At(d.updateAt).format("YYYY-MM-DD HH:mm:ss"));const{relationStats:h=[]}=d;h.forEach(S=>{n(1,r=[...r,S.date]),n(2,u=[...u,S.follower])})}try{s()}catch(l){console.log(l)}return[i,r,u]}class zt extends Se{constructor(t){super(),De(this,t,Rt,Ut,_e,{})}}function Ft(e){let t,n;return t=new zt({}),{c(){Ne(t.$$.fragment)},m(i,r){Oe(t,i,r),n=!0},p:q,i(i){n||(Me(t.$$.fragment,i),n=!0)},o(i){Te(t.$$.fragment,i),n=!1},d(i){we(t,i)}}}class qt extends Se{constructor(t){super(),De(this,t,null,Ft,_e,{})}}const Kt=document.querySelector("#app");new qt({target:Kt});
