var dt=Object.defineProperty;var ht=(e,t,n)=>t in e?dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ee=(e,t,n)=>(ht(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();function F(){}function je(e,t){for(const n in t)e[n]=t[n];return e}function Ze(e){return e()}function Be(){return Object.create(null)}function de(e){e.forEach(Ze)}function Xe(e){return typeof e=="function"}function ye(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function mt(e){return Object.keys(e).length===0}function gt(e,...t){if(e==null){for(const i of t)i(void 0);return F}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function He(e,t,n){e.$$.on_destroy.push(gt(t,n))}function bt(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Ve(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function Ee(e,t,n){return e.set(n),t}function W(e,t){e.appendChild(t)}function B(e,t,n){e.insertBefore(t,n||null)}function C(e){e.parentNode&&e.parentNode.removeChild(e)}function vt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function z(e){return document.createElement(e)}function le(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function re(e){return document.createTextNode(e)}function ie(){return re(" ")}function be(){return re("")}function ne(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function We(e,t){for(const n in t)b(e,n,t[n])}function yt(e){return Array.from(e.childNodes)}function me(e,t){t=""+t,e.data!==t&&(e.data=t)}function _t(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}class Ge{constructor(t=!1){ee(this,"is_svg",!1);ee(this,"e");ee(this,"n");ee(this,"t");ee(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,i=null){this.e||(this.is_svg?this.e=le(n.nodeName):this.e=z(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)B(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(C)}}let ve;function ge(e){ve=e}function Mt(){if(!ve)throw new Error("Function called outside component initialization");return ve}function kt(){const e=Mt();return(t,n,{cancelable:i=!1}={})=>{const r=e.$$.callbacks[t];if(r){const u=_t(t,n,{cancelable:i});return r.slice().forEach(s=>{s.call(e,u)}),!u.defaultPrevented}return!0}}const oe=[],Le=[];let ce=[];const Ye=[],Qe=Promise.resolve();let Ie=!1;function xe(){Ie||(Ie=!0,Qe.then($e))}function Ue(){return xe(),Qe}function Pe(e){ce.push(e)}const Ae=new Set;let ae=0;function $e(){if(ae!==0)return;const e=ve;do{try{for(;ae<oe.length;){const t=oe[ae];ae++,ge(t),pt(t.$$)}}catch(t){throw oe.length=0,ae=0,t}for(ge(null),oe.length=0,ae=0;Le.length;)Le.pop()();for(let t=0;t<ce.length;t+=1){const n=ce[t];Ae.has(n)||(Ae.add(n),n())}ce.length=0}while(oe.length);for(;Ye.length;)Ye.pop()();Ie=!1,Ae.clear(),ge(e)}function pt(e){if(e.fragment!==null){e.update(),de(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Pe)}}function Ot(e){const t=[],n=[];ce.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),ce=t}const Me=new Set;let wt;function pe(e,t){e&&e.i&&(Me.delete(e),e.i(t))}function Te(e,t,n,i){if(e&&e.o){if(Me.has(e))return;Me.add(e),wt.c.push(()=>{Me.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function Re(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Dt(e,t){const n={},i={},r={$$scope:1};let u=e.length;for(;u--;){const s=e[u],l=t[u];if(l){for(const f in s)f in l||(i[f]=1);for(const f in l)r[f]||(n[f]=l[f],r[f]=1);e[u]=l}else for(const f in s)r[f]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Ne(e){e&&e.c()}function Oe(e,t,n){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),Pe(()=>{const u=e.$$.on_mount.map(Ze).filter(Xe);e.$$.on_destroy?e.$$.on_destroy.push(...u):de(u),e.$$.on_mount=[]}),r.forEach(Pe)}function we(e,t){const n=e.$$;n.fragment!==null&&(Ot(n.after_update),de(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function St(e,t){e.$$.dirty[0]===-1&&(oe.push(e),xe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function De(e,t,n,i,r,u,s=null,l=[-1]){const f=ve;ge(e);const h=e.$$={fragment:null,ctx:[],props:u,update:F,not_equal:r,bound:Be(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:Be(),dirty:l,skip_bound:!1,root:t.target||f.$$.root};s&&s(h.root);let S=!1;if(h.ctx=n?n(e,t.props||{},(O,p,...y)=>{const v=y.length?y[0]:p;return h.ctx&&r(h.ctx[O],h.ctx[O]=v)&&(!h.skip_bound&&h.bound[O]&&h.bound[O](v),S&&St(e,O)),p}):[],h.update(),S=!0,de(h.before_update),h.fragment=i?i(h.ctx):!1,t.target){if(t.hydrate){const O=yt(t.target);h.fragment&&h.fragment.l(O),O.forEach(C)}else h.fragment&&h.fragment.c();t.intro&&pe(e.$$.fragment),Oe(e,t.target,t.anchor),$e()}ge(f)}class Se{constructor(){ee(this,"$$");ee(this,"$$set")}$destroy(){we(this,1),this.$destroy=F}$on(t,n){if(!Xe(n))return F;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!mt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Et="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Et);var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var et={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(At,function(){var n=1e3,i=6e4,r=36e5,u="millisecond",s="second",l="minute",f="hour",h="day",S="week",O="month",p="quarter",y="year",v="date",U="Invalid Date",V=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var d=["th","st","nd","rd"],o=_%100;return"["+_+(d[(o-20)%10]||d[o]||d[0])+"]"}},D=function(_,d,o){var g=String(_);return!g||g.length>=d?_:""+Array(d+1-g.length).join(o)+_},j={s:D,z:function(_){var d=-_.utcOffset(),o=Math.abs(d),g=Math.floor(o/60),c=o%60;return(d<=0?"+":"-")+D(g,2,"0")+":"+D(c,2,"0")},m:function _(d,o){if(d.date()<o.date())return-_(o,d);var g=12*(o.year()-d.year())+(o.month()-d.month()),c=d.clone().add(g,O),M=o-c<0,k=d.clone().add(g+(M?-1:1),O);return+(-(g+(o-c)/(M?c-k:k-c))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:O,y,w:S,d:h,D:v,h:f,m:l,s,ms:u,Q:p}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},R="en",q={};q[R]=m;var se="$isDayjsObject",K=function(_){return _ instanceof te||!(!_||!_[se])},Q=function _(d,o,g){var c;if(!d)return R;if(typeof d=="string"){var M=d.toLowerCase();q[M]&&(c=M),o&&(q[M]=o,c=M);var k=d.split("-");if(!c&&k.length>1)return _(k[0])}else{var E=d.name;q[E]=d,c=E}return!g&&c&&(R=c),c||!g&&R},T=function(_,d){if(K(_))return _.clone();var o=typeof d=="object"?d:{};return o.date=_,o.args=arguments,new te(o)},w=j;w.l=Q,w.i=K,w.w=function(_,d){return T(_,{locale:d.$L,utc:d.$u,x:d.$x,$offset:d.$offset})};var te=function(){function _(o){this.$L=Q(o.locale,null,!0),this.parse(o),this.$x=this.$x||o.x||{},this[se]=!0}var d=_.prototype;return d.parse=function(o){this.$d=function(g){var c=g.date,M=g.utc;if(c===null)return new Date(NaN);if(w.u(c))return new Date;if(c instanceof Date)return new Date(c);if(typeof c=="string"&&!/Z$/i.test(c)){var k=c.match(V);if(k){var E=k[2]-1||0,H=(k[7]||"0").substring(0,3);return M?new Date(Date.UTC(k[1],E,k[3]||1,k[4]||0,k[5]||0,k[6]||0,H)):new Date(k[1],E,k[3]||1,k[4]||0,k[5]||0,k[6]||0,H)}}return new Date(c)}(o),this.init()},d.init=function(){var o=this.$d;this.$y=o.getFullYear(),this.$M=o.getMonth(),this.$D=o.getDate(),this.$W=o.getDay(),this.$H=o.getHours(),this.$m=o.getMinutes(),this.$s=o.getSeconds(),this.$ms=o.getMilliseconds()},d.$utils=function(){return w},d.isValid=function(){return this.$d.toString()!==U},d.isSame=function(o,g){var c=T(o);return this.startOf(g)<=c&&c<=this.endOf(g)},d.isAfter=function(o,g){return T(o)<this.startOf(g)},d.isBefore=function(o,g){return this.endOf(g)<T(o)},d.$g=function(o,g,c){return w.u(o)?this[g]:this.set(c,o)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(o,g){var c=this,M=!!w.u(g)||g,k=w.p(o),E=function(X,N){var G=w.w(c.$u?Date.UTC(c.$y,N,X):new Date(c.$y,N,X),c);return M?G:G.endOf(h)},H=function(X,N){return w.w(c.toDate()[X].apply(c.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(N)),c)},L=this.$W,I=this.$M,Y=this.$D,J="set"+(this.$u?"UTC":"");switch(k){case y:return M?E(1,0):E(31,11);case O:return M?E(1,I):E(0,I+1);case S:var Z=this.$locale().weekStart||0,x=(L<Z?L+7:L)-Z;return E(M?Y-x:Y+(6-x),I);case h:case v:return H(J+"Hours",0);case f:return H(J+"Minutes",1);case l:return H(J+"Seconds",2);case s:return H(J+"Milliseconds",3);default:return this.clone()}},d.endOf=function(o){return this.startOf(o,!1)},d.$set=function(o,g){var c,M=w.p(o),k="set"+(this.$u?"UTC":""),E=(c={},c[h]=k+"Date",c[v]=k+"Date",c[O]=k+"Month",c[y]=k+"FullYear",c[f]=k+"Hours",c[l]=k+"Minutes",c[s]=k+"Seconds",c[u]=k+"Milliseconds",c)[M],H=M===h?this.$D+(g-this.$W):g;if(M===O||M===y){var L=this.clone().set(v,1);L.$d[E](H),L.init(),this.$d=L.set(v,Math.min(this.$D,L.daysInMonth())).$d}else E&&this.$d[E](H);return this.init(),this},d.set=function(o,g){return this.clone().$set(o,g)},d.get=function(o){return this[w.p(o)]()},d.add=function(o,g){var c,M=this;o=Number(o);var k=w.p(g),E=function(I){var Y=T(M);return w.w(Y.date(Y.date()+Math.round(I*o)),M)};if(k===O)return this.set(O,this.$M+o);if(k===y)return this.set(y,this.$y+o);if(k===h)return E(1);if(k===S)return E(7);var H=(c={},c[l]=i,c[f]=r,c[s]=n,c)[k]||1,L=this.$d.getTime()+o*H;return w.w(L,this)},d.subtract=function(o,g){return this.add(-1*o,g)},d.format=function(o){var g=this,c=this.$locale();if(!this.isValid())return c.invalidDate||U;var M=o||"YYYY-MM-DDTHH:mm:ssZ",k=w.z(this),E=this.$H,H=this.$m,L=this.$M,I=c.weekdays,Y=c.months,J=c.meridiem,Z=function(N,G,$,ue){return N&&(N[G]||N(g,M))||$[G].slice(0,ue)},x=function(N){return w.s(E%12||12,N,"0")},X=J||function(N,G,$){var ue=N<12?"AM":"PM";return $?ue.toLowerCase():ue};return M.replace(A,function(N,G){return G||function($){switch($){case"YY":return String(g.$y).slice(-2);case"YYYY":return w.s(g.$y,4,"0");case"M":return L+1;case"MM":return w.s(L+1,2,"0");case"MMM":return Z(c.monthsShort,L,Y,3);case"MMMM":return Z(Y,L);case"D":return g.$D;case"DD":return w.s(g.$D,2,"0");case"d":return String(g.$W);case"dd":return Z(c.weekdaysMin,g.$W,I,2);case"ddd":return Z(c.weekdaysShort,g.$W,I,3);case"dddd":return I[g.$W];case"H":return String(E);case"HH":return w.s(E,2,"0");case"h":return x(1);case"hh":return x(2);case"a":return X(E,H,!0);case"A":return X(E,H,!1);case"m":return String(H);case"mm":return w.s(H,2,"0");case"s":return String(g.$s);case"ss":return w.s(g.$s,2,"0");case"SSS":return w.s(g.$ms,3,"0");case"Z":return k}return null}(N)||k.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(o,g,c){var M,k=this,E=w.p(g),H=T(o),L=(H.utcOffset()-this.utcOffset())*i,I=this-H,Y=function(){return w.m(k,H)};switch(E){case y:M=Y()/12;break;case O:M=Y();break;case p:M=Y()/3;break;case S:M=(I-L)/6048e5;break;case h:M=(I-L)/864e5;break;case f:M=I/r;break;case l:M=I/i;break;case s:M=I/n;break;default:M=I}return c?M:w.a(M)},d.daysInMonth=function(){return this.endOf(O).$D},d.$locale=function(){return q[this.$L]},d.locale=function(o,g){if(!o)return this.$L;var c=this.clone(),M=Q(o,g,!0);return M&&(c.$L=M),c},d.clone=function(){return w.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},_}(),he=te.prototype;return T.prototype=he,[["$ms",u],["$s",s],["$m",l],["$H",f],["$W",h],["$M",O],["$y",y],["$D",v]].forEach(function(_){he[_[1]]=function(d){return this.$g(d,_[0],_[1])}}),T.extend=function(_,d){return _.$i||(_(d,te,T),_.$i=!0),T},T.locale=Q,T.isDayjs=K,T.unix=function(_){return T(1e3*_)},T.en=q[R],T.Ls=q,T.p={},T})})(et);var Ht=et.exports;const Lt=jt(Ht),fe=[];function tt(e,t=F){let n;const i=new Set;function r(l){if(ye(e,l)&&(e=l,n)){const f=!fe.length;for(const h of i)h[1](),fe.push(h,e);if(f){for(let h=0;h<fe.length;h+=2)fe[h][0](fe[h+1]);fe.length=0}}}function u(l){r(l(e))}function s(l,f=F){const h=[l,f];return i.add(h),i.size===1&&(n=t(r,u)||F),l(e),()=>{i.delete(h),i.size===0&&n&&(n(),n=null)}}return{set:r,update:u,subscribe:s}}const ke=tt({}),ze=tt({});function Fe(e,t,n){const i=e.slice();return i[56]=t[n][0],i[57]=t[n][1],i[59]=n,i}function qe(e){let t,n;return{c(){t=le("polyline"),b(t,"points",n=e[29].join(" ")),b(t,"stroke",e[18]),b(t,"fill","transparent")},m(i,r){B(i,t,r)},p(i,r){r[0]&536870912&&n!==(n=i[29].join(" "))&&b(t,"points",n),r[0]&262144&&b(t,"stroke",i[18])},d(i){i&&C(t)}}}function It(e){let t,n,i,r,u;return{c(){t=le("circle"),b(t,"fill",n=e[9]&&e[26][e[23]]!==null&&e[26][e[23]]==e[56]?e[7]:"transparent"),b(t,"r",i=e[5]?parseInt(e[4]):e[24]/2),b(t,"cy",r=e[2]-e[30](e[57])),b(t,"cx",u=(parseInt(e[6])+e[24]+e[24]/Object.keys(e[0]).length)*e[59])},m(s,l){B(s,t,l)},p(s,l){l[0]&75498113&&n!==(n=s[9]&&s[26][s[23]]!==null&&s[26][s[23]]==s[56]?s[7]:"transparent")&&b(t,"fill",n),l[0]&16777264&&i!==(i=s[5]?parseInt(s[4]):s[24]/2)&&b(t,"r",i),l[0]&5&&r!==(r=s[2]-s[30](s[57]))&&b(t,"cy",r),l[0]&16777281&&u!==(u=(parseInt(s[6])+s[24]+s[24]/Object.keys(s[0]).length)*s[59])&&b(t,"cx",u)},d(s){s&&C(t)}}}function Pt(e){let t,n,i,r,u,s;return{c(){t=le("rect"),b(t,"style",n=e[10]?`transition: all ${e[10]}ms`:null),b(t,"opacity",i=e[9]&&e[26][e[23]]&&e[26][e[23]]!=e[56]?e[8]:1),b(t,"fill",e[7]),b(t,"width",e[24]),b(t,"height",r=e[17]=="line"?e[2]:e[30](e[57])),b(t,"x",u=(parseInt(e[6])+e[24])*e[59]),b(t,"y",s=e[2]-e[30](e[57]))},m(l,f){B(l,t,f)},p(l,f){f[0]&1024&&n!==(n=l[10]?`transition: all ${l[10]}ms`:null)&&b(t,"style",n),f[0]&75498241&&i!==(i=l[9]&&l[26][l[23]]&&l[26][l[23]]!=l[56]?l[8]:1)&&b(t,"opacity",i),f[0]&128&&b(t,"fill",l[7]),f[0]&16777216&&b(t,"width",l[24]),f[0]&131077&&r!==(r=l[17]=="line"?l[2]:l[30](l[57]))&&b(t,"height",r),f[0]&16777280&&u!==(u=(parseInt(l[6])+l[24])*l[59])&&b(t,"x",u),f[0]&5&&s!==(s=l[2]-l[30](l[57]))&&b(t,"y",s)},d(l){l&&C(t)}}}function Ke(e){let t,n,i,r;function u(y,v){if(y[17]=="bar")return Pt;if(y[17]=="line")return It}let s=u(e),l=s&&s(e);function f(){return e[44](e[56],e[59])}function h(){return e[45](e[56],e[59])}function S(){return e[46](e[56],e[59])}function O(){return e[47](e[56],e[59])}function p(){return e[48](e[56],e[59])}return{c(){l&&l.c(),t=le("rect"),b(t,"width",e[24]),b(t,"height",e[2]),b(t,"fill","transparent"),b(t,"x",n=(parseInt(e[6])+e[24])*e[59]),b(t,"tabindex",e[19])},m(y,v){l&&l.m(y,v),B(y,t,v),i||(r=[ne(t,"mouseover",f),ne(t,"focus",h),ne(t,"touchstart",S,{passive:!0}),ne(t,"click",O),ne(t,"keypress",p)],i=!0)},p(y,v){e=y,s===(s=u(e))&&l?l.p(e,v):(l&&l.d(1),l=s&&s(e),l&&(l.c(),l.m(t.parentNode,t))),v[0]&16777216&&b(t,"width",e[24]),v[0]&4&&b(t,"height",e[2]),v[0]&16777280&&n!==(n=(parseInt(e[6])+e[24])*e[59])&&b(t,"x",n),v[0]&524288&&b(t,"tabindex",e[19])},d(y){y&&C(t),l&&l.d(y),i=!1,de(r)}}}function Je(e){let t,n;function i(s,l){return s[27][s[1]]!==null?Nt:Tt}let r=i(e),u=r(e);return{c(){t=z("div"),u.c(),b(t,"class","tiny-linked-charts-value"),b(t,"style",n=e[15]=="floating"?`position: absolute; transform: translateX(${e[28]}px)`:null)},m(s,l){B(s,t,l),u.m(t,null)},p(s,l){r===(r=i(s))&&u?u.p(s,l):(u.d(1),u=r(s),u&&(u.c(),u.m(t,null))),l[0]&268468224&&n!==(n=s[15]=="floating"?`position: absolute; transform: translateX(${s[28]}px)`:null)&&b(t,"style",n)},d(s){s&&C(t),u.d()}}}function Tt(e){let t,n;return{c(){t=new Ge(!1),n=be(),t.a=n},m(i,r){t.m(e[12],i,r),B(i,n,r)},p(i,r){r[0]&4096&&t.p(i[12])},d(i){i&&(C(n),t.d())}}}function Nt(e){let t,n,i,r=(e[27][e[1]]||e[16])+"",u,s,l;return{c(){t=re(e[13]),n=ie(),i=z("span"),u=re(r),s=ie(),l=re(e[14])},m(f,h){B(f,t,h),B(f,n,h),B(f,i,h),W(i,u),e[49](i),B(f,s,h),B(f,l,h)},p(f,h){h[0]&8192&&me(t,f[13]),h[0]&134283266&&r!==(r=(f[27][f[1]]||f[16])+"")&&me(u,r),h[0]&16384&&me(l,f[14])},d(f){f&&(C(t),C(n),C(i),C(s),C(l)),e[49](null)}}}function Ct(e){let t,n,i,r,u,s,l,f,h,S,O,p=e[17]=="line"&&qe(e),y=Re(Object.entries(e[0])),v=[];for(let m=0;m<y.length;m+=1)v[m]=Ke(Fe(e,y,m));let U=[{width:e[3]},{height:u=e[17]=="line"?e[2]+e[24]/2:e[2]},{viewBox:s="0 0 "+e[3]+" "+e[2]},{preserveAspectRatio:l=e[20]?"true":"none"},e[33]],V={};for(let m=0;m<U.length;m+=1)V=je(V,U[m]);let A=e[11]&&(e[27][e[1]]||e[12])&&Je(e);return{c(){t=le("svg"),n=le("g"),p&&p.c(),i=be();for(let m=0;m<v.length;m+=1)v[m].c();f=ie(),A&&A.c(),h=be(),b(n,"transform",r="translate("+e[25]+", 0)"),We(t,V)},m(m,D){B(m,t,D),W(t,n),p&&p.m(n,null),W(n,i);for(let j=0;j<v.length;j+=1)v[j]&&v[j].m(n,null);B(m,f,D),A&&A.m(m,D),B(m,h,D),S||(O=[ne(t,"mouseleave",e[32]),ne(t,"blur",e[32])],S=!0)},p(m,D){if(m[17]=="line"?p?p.p(m,D):(p=qe(m),p.c(),p.m(n,i)):p&&(p.d(1),p=null),D[0]&1168771061|D[1]&1){y=Re(Object.entries(m[0]));let j;for(j=0;j<y.length;j+=1){const R=Fe(m,y,j);v[j]?v[j].p(R,D):(v[j]=Ke(R),v[j].c(),v[j].m(n,null))}for(;j<v.length;j+=1)v[j].d(1);v.length=y.length}D[0]&33554432&&r!==(r="translate("+m[25]+", 0)")&&b(n,"transform",r),We(t,V=Dt(U,[D[0]&8&&{width:m[3]},D[0]&16908292&&u!==(u=m[17]=="line"?m[2]+m[24]/2:m[2])&&{height:u},D[0]&12&&s!==(s="0 0 "+m[3]+" "+m[2])&&{viewBox:s},D[0]&1048576&&l!==(l=m[20]?"true":"none")&&{preserveAspectRatio:l},D[1]&4&&m[33]])),m[11]&&(m[27][m[1]]||m[12])?A?A.p(m,D):(A=Je(m),A.c(),A.m(h.parentNode,h)):A&&(A.d(1),A=null)},i:F,o:F,d(m){m&&(C(t),C(f),C(h)),p&&p.d(),vt(v,m),A&&A.d(m),S=!1,de(O)}}}function Bt(e,t,n){let i,r,u,s,l;const f=["uid","data","labels","values","linked","height","width","barMinWidth","barMinHeight","hideBarBelow","grow","align","gap","fill","fadeOpacity","hover","transition","showValue","valueDefault","valuePrepend","valueAppend","valuePosition","valueUndefined","scaleMax","scaleMin","type","lineColor","tabindex","dispatchEvents","preserveAspectRatio","clickHandler"];let h=Ve(t,f),S,O;He(e,ke,a=>n(26,S=a)),He(e,ze,a=>n(27,O=a));let{uid:p=(Math.random()+1).toString(36).substring(7)}=t,{data:y={}}=t,{labels:v=[]}=t,{values:U=[]}=t,{linked:V=""}=t,{height:A=40}=t,{width:m=150}=t,{barMinWidth:D=4}=t,{barMinHeight:j=0}=t,{hideBarBelow:R=0}=t,{grow:q=!1}=t,{align:se="right"}=t,{gap:K=1}=t,{fill:Q="#ff3e00"}=t,{fadeOpacity:T=.5}=t,{hover:w=!0}=t,{transition:te=0}=t,{showValue:he=!1}=t,{valueDefault:_="&nbsp;"}=t,{valuePrepend:d=""}=t,{valueAppend:o=""}=t,{valuePosition:g="static"}=t,{valueUndefined:c=0}=t,{scaleMax:M=0}=t,{scaleMin:k=0}=t,{type:E="bar"}=t,{lineColor:H=Q}=t,{tabindex:L=-1}=t,{dispatchEvents:I=!1}=t,{preserveAspectRatio:Y=!1}=t,{clickHandler:J=(a,P)=>null}=t;const Z=kt();let x=0,X=[],N;function G(){return M||(i?Math.max(...Object.values(y)):0)}function $(a){if(a<R||a<k)return 0;const P=M||u,Ce=k||0,ct=(a-Ce)/(P-Ce);return Math.max(Math.ceil(ct*parseInt(A)),j)}function ue(){return Math.max((parseInt(m)-i*parseInt(K))/i,parseInt(D))}function nt(){return se=="left"?0:parseInt(K)+parseInt(m)-(parseInt(K)+r)*i}function it(){let a=[];for(let P=0;P<Object.keys(y).length;P++)a.push([P*(r+parseInt(K)+r/Object.keys(y).length),A-$(Object.values(y)[P])]);return a}async function _e(a,P){w&&(Ee(ke,S[l]=a,S),await Ue(),I&&Z("hover",{uid:p,key:a,index:P,linkedKey:l,value:O[p],valueElement:N,eventElement:event.target}))}async function rt(){w&&(Ee(ke,S[l]=null,S),await Ue(),I&&Z("blur",{uid:p,linkedKey:l,valueElement:N,eventElement:event.target}))}const lt=(a,P)=>_e(a,P),st=(a,P)=>_e(a,P),ut=(a,P)=>_e(a,P),at=(a,P)=>J(a,P),ft=(a,P)=>J(a,P);function ot(a){Le[a?"unshift":"push"](()=>{N=a,n(22,N)})}return e.$$set=a=>{t=je(je({},t),bt(a)),n(33,h=Ve(t,f)),"uid"in a&&n(1,p=a.uid),"data"in a&&n(0,y=a.data),"labels"in a&&n(34,v=a.labels),"values"in a&&n(35,U=a.values),"linked"in a&&n(36,V=a.linked),"height"in a&&n(2,A=a.height),"width"in a&&n(3,m=a.width),"barMinWidth"in a&&n(4,D=a.barMinWidth),"barMinHeight"in a&&n(37,j=a.barMinHeight),"hideBarBelow"in a&&n(38,R=a.hideBarBelow),"grow"in a&&n(5,q=a.grow),"align"in a&&n(39,se=a.align),"gap"in a&&n(6,K=a.gap),"fill"in a&&n(7,Q=a.fill),"fadeOpacity"in a&&n(8,T=a.fadeOpacity),"hover"in a&&n(9,w=a.hover),"transition"in a&&n(10,te=a.transition),"showValue"in a&&n(11,he=a.showValue),"valueDefault"in a&&n(12,_=a.valueDefault),"valuePrepend"in a&&n(13,d=a.valuePrepend),"valueAppend"in a&&n(14,o=a.valueAppend),"valuePosition"in a&&n(15,g=a.valuePosition),"valueUndefined"in a&&n(16,c=a.valueUndefined),"scaleMax"in a&&n(40,M=a.scaleMax),"scaleMin"in a&&n(41,k=a.scaleMin),"type"in a&&n(17,E=a.type),"lineColor"in a&&n(18,H=a.lineColor),"tabindex"in a&&n(19,L=a.tabindex),"dispatchEvents"in a&&n(42,I=a.dispatchEvents),"preserveAspectRatio"in a&&n(20,Y=a.preserveAspectRatio),"clickHandler"in a&&n(21,J=a.clickHandler)},e.$$.update=()=>{e.$$.dirty[1]&24&&v.length&&U.length&&n(0,y=Object.fromEntries(v.map((a,P)=>[v[P],U[P]]))),e.$$.dirty[0]&1&&n(43,i=Object.keys(y).length),e.$$.dirty[0]&48|e.$$.dirty[1]&4096&&n(24,r=q?ue():parseInt(D)),e.$$.dirty[0]&1&&(u=G()),e.$$.dirty[1]&4096&&n(25,s=i?nt():0),e.$$.dirty[1]&32&&n(23,l=V||(Math.random()+1).toString(36).substring(7)),e.$$.dirty[0]&75497475&&Ee(ze,O[p]=S[l]?y[S[l]]:null,O),e.$$.dirty[0]&125861953&&g=="floating"&&n(28,x=(parseInt(K)+r)*Object.keys(y).indexOf(S[l])+s),e.$$.dirty[0]&131073&&E=="line"&&n(29,X=it()),e.$$.dirty[0]&146800642|e.$$.dirty[1]&2048&&I&&Z("value-update",{value:O[p],uid:p,linkedKey:l,valueElement:N}),e.$$.dirty[0]&524288&&L>0&&console.warn("Tabindex should not be higher than 0")},[y,p,A,m,D,q,K,Q,T,w,te,he,_,d,o,g,c,E,H,L,Y,J,N,l,r,s,S,O,x,X,$,_e,rt,h,v,U,V,j,R,se,M,k,I,i,lt,st,ut,at,ft,ot]}class Vt extends Se{constructor(t){super(),De(this,t,Bt,Ct,ye,{uid:1,data:0,labels:34,values:35,linked:36,height:2,width:3,barMinWidth:4,barMinHeight:37,hideBarBelow:38,grow:5,align:39,gap:6,fill:7,fadeOpacity:8,hover:9,transition:10,showValue:11,valueDefault:12,valuePrepend:13,valueAppend:14,valuePosition:15,valueUndefined:16,scaleMax:40,scaleMin:41,type:17,lineColor:18,tabindex:19,dispatchEvents:42,preserveAspectRatio:20,clickHandler:21},null,[-1,-1])}}function Wt(e){let t,n;return{c(){t=new Ge(!1),n=be(),t.a=n},m(i,r){t.m(e[0],i,r),B(i,n,r)},p(i,r){r&1&&t.p(i[0])},d(i){i&&(C(n),t.d())}}}function Yt(e){let t=e[1](e[2])+"",n;return{c(){n=re(t)},m(i,r){B(i,n,r)},p(i,r){r&6&&t!==(t=i[1](i[2])+"")&&me(n,t)},d(i){i&&C(n)}}}function Ut(e){let t;function n(u,s){return u[2]?Yt:Wt}let i=n(e),r=i(e);return{c(){r.c(),t=be()},m(u,s){r.m(u,s),B(u,t,s)},p(u,[s]){i===(i=n(u))&&r?r.p(u,s):(r.d(1),r=i(u),r&&(r.c(),r.m(t.parentNode,t)))},i:F,o:F,d(u){u&&C(t),r.d(u)}}}function Rt(e,t,n){let i,r;He(e,ke,f=>n(4,r=f));let{linked:u}=t,{empty:s="&nbsp;"}=t,{transform:l=f=>f}=t;return e.$$set=f=>{"linked"in f&&n(3,u=f.linked),"empty"in f&&n(0,s=f.empty),"transform"in f&&n(1,l=f.transform)},e.$$.update=()=>{e.$$.dirty&24&&n(2,i=r[u])},[s,l,i,u,r]}class zt extends Se{constructor(t){super(),De(this,t,Rt,Ut,ye,{linked:3,empty:0,transform:1})}}function Ft(e){let t,n,i,r,u,s,l,f,h,S,O,p,y,v,U,V,A;return v=new zt({props:{linked:"bilibili"}}),V=new Vt({props:{labels:e[1],values:e[2],showValue:!0,width:800,height:100,barMinWidth:5,fadeOpacity:.3,fill:"#818cf8",valueAppend:"followers",valuePosition:"floating",linked:"bilibili"}}),{c(){t=z("div"),n=z("div"),i=z("div"),i.innerHTML='<h1 class="text-3xl mr-2"><a class="hover:color-indigo" href="https://space.bilibili.com/401315430" target="_blank">XingTong</a></h1> <p class="text-lg text-gray-500 mt-2 md:mt-0">bilibili followers trend</p>',r=ie(),u=z("div"),s=z("span"),s.textContent="Last update:",l=ie(),f=z("span"),h=z("a"),S=re(e[0]),O=ie(),p=z("div"),y=z("div"),Ne(v.$$.fragment),U=ie(),Ne(V.$$.fragment),b(i,"class","md:flex items-end"),b(s,"class","text-gray-400 mr-1"),b(h,"class","hover:color-indigo"),b(h,"href","https://github.com/ixingtong/visualization/blob/main/archive/bilibili.json"),b(h,"target","_blank"),b(f,"class","text-gray-600"),b(u,"class","mt-3 md:mt-0"),b(n,"class","absolute top-0 left-0 right-0 p-4 font-mono md:flex justify-between items-center"),b(y,"class","!md:w-[800px] w-screen overflow-auto"),b(p,"class","w-full h-full flex flex-col justify-center items-center"),b(t,"class","h-screen w-screen")},m(m,D){B(m,t,D),W(t,n),W(n,i),W(n,r),W(n,u),W(u,s),W(u,l),W(u,f),W(f,h),W(h,S),W(t,O),W(t,p),W(p,y),Oe(v,y,null),W(y,U),Oe(V,y,null),A=!0},p(m,[D]){(!A||D&1)&&me(S,m[0]);const j={};D&2&&(j.labels=m[1]),D&4&&(j.values=m[2]),V.$set(j)},i(m){A||(pe(v.$$.fragment,m),pe(V.$$.fragment,m),A=!0)},o(m){Te(v.$$.fragment,m),Te(V.$$.fragment,m),A=!1},d(m){m&&C(t),we(v),we(V)}}}function qt(e,t,n){let i,r=[],u=[];async function s(){const f=await(await fetch("/bilibili.json")).json();n(0,i=Lt(f.updateAt).format("YYYY-MM-DD HH:mm:ss"));const{relationStats:h=[]}=f;h.forEach(S=>{n(1,r=[...r,S.date]),n(2,u=[...u,S.follower])})}try{s()}catch(l){console.log(l)}return[i,r,u]}class Kt extends Se{constructor(t){super(),De(this,t,qt,Ft,ye,{})}}function Jt(e){let t,n;return t=new Kt({}),{c(){Ne(t.$$.fragment)},m(i,r){Oe(t,i,r),n=!0},p:F,i(i){n||(pe(t.$$.fragment,i),n=!0)},o(i){Te(t.$$.fragment,i),n=!1},d(i){we(t,i)}}}class Zt extends Se{constructor(t){super(),De(this,t,null,Jt,ye,{})}}const Xt=document.querySelector("#app");new Zt({target:Xt});
