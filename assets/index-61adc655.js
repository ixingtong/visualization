var ft=Object.defineProperty;var ot=(e,t,n)=>t in e?ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $=(e,t,n)=>(ot(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();function F(){}function je(e,t){for(const n in t)e[n]=t[n];return e}function Je(e){return e()}function Ce(){return Object.create(null)}function de(e){e.forEach(Je)}function Ze(e){return typeof e=="function"}function ye(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ct(e){return Object.keys(e).length===0}function dt(e,...t){if(e==null){for(const i of t)i(void 0);return F}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function He(e,t,n){e.$$.on_destroy.push(dt(t,n))}function ht(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Be(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function Ee(e,t,n){return e.set(n),t}function U(e,t){e.appendChild(t)}function B(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function gt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Z(e){return document.createElement(e)}function le(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function re(e){return document.createTextNode(e)}function ie(){return re(" ")}function be(){return re("")}function ne(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function We(e,t){for(const n in t)b(e,n,t[n])}function mt(e){return Array.from(e.childNodes)}function ge(e,t){t=""+t,e.data!==t&&(e.data=t)}function bt(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}class Xe{constructor(t=!1){$(this,"is_svg",!1);$(this,"e");$(this,"n");$(this,"t");$(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,i=null){this.e||(this.is_svg?this.e=le(n.nodeName):this.e=Z(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(i)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)B(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(T)}}let _e;function me(e){_e=e}function _t(){if(!_e)throw new Error("Function called outside component initialization");return _e}function yt(){const e=_t();return(t,n,{cancelable:i=!1}={})=>{const r=e.$$.callbacks[t];if(r){const u=bt(t,n,{cancelable:i});return r.slice().forEach(s=>{s.call(e,u)}),!u.defaultPrevented}return!0}}const oe=[],Le=[];let ce=[];const Ye=[],Ge=Promise.resolve();let Ie=!1;function Qe(){Ie||(Ie=!0,Ge.then(xe))}function Ve(){return Qe(),Ge}function Pe(e){ce.push(e)}const Ae=new Set;let ae=0;function xe(){if(ae!==0)return;const e=_e;do{try{for(;ae<oe.length;){const t=oe[ae];ae++,me(t),vt(t.$$)}}catch(t){throw oe.length=0,ae=0,t}for(me(null),oe.length=0,ae=0;Le.length;)Le.pop()();for(let t=0;t<ce.length;t+=1){const n=ce[t];Ae.has(n)||(Ae.add(n),n())}ce.length=0}while(oe.length);for(;Ye.length;)Ye.pop()();Ie=!1,Ae.clear(),me(e)}function vt(e){if(e.fragment!==null){e.update(),de(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Pe)}}function pt(e){const t=[],n=[];ce.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),ce=t}const pe=new Set;let kt;function Me(e,t){e&&e.i&&(pe.delete(e),e.i(t))}function Te(e,t,n,i){if(e&&e.o){if(pe.has(e))return;pe.add(e),kt.c.push(()=>{pe.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function Ue(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Mt(e,t){const n={},i={},r={$$scope:1};let u=e.length;for(;u--;){const s=e[u],l=t[u];if(l){for(const c in s)c in l||(i[c]=1);for(const c in l)r[c]||(n[c]=l[c],r[c]=1);e[u]=l}else for(const c in s)r[c]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Ne(e){e&&e.c()}function Oe(e,t,n){const{fragment:i,after_update:r}=e.$$;i&&i.m(t,n),Pe(()=>{const u=e.$$.on_mount.map(Je).filter(Ze);e.$$.on_destroy?e.$$.on_destroy.push(...u):de(u),e.$$.on_mount=[]}),r.forEach(Pe)}function we(e,t){const n=e.$$;n.fragment!==null&&(pt(n.after_update),de(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ot(e,t){e.$$.dirty[0]===-1&&(oe.push(e),Qe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function De(e,t,n,i,r,u,s=null,l=[-1]){const c=_e;me(e);const h=e.$$={fragment:null,ctx:[],props:u,update:F,not_equal:r,bound:Ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:Ce(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};s&&s(h.root);let S=!1;if(h.ctx=n?n(e,t.props||{},(O,M,..._)=>{const k=_.length?_[0]:M;return h.ctx&&r(h.ctx[O],h.ctx[O]=k)&&(!h.skip_bound&&h.bound[O]&&h.bound[O](k),S&&Ot(e,O)),M}):[],h.update(),S=!0,de(h.before_update),h.fragment=i?i(h.ctx):!1,t.target){if(t.hydrate){const O=mt(t.target);h.fragment&&h.fragment.l(O),O.forEach(T)}else h.fragment&&h.fragment.c();t.intro&&Me(e.$$.fragment),Oe(e,t.target,t.anchor),xe()}me(c)}class Se{constructor(){$(this,"$$");$(this,"$$set")}$destroy(){we(this,1),this.$destroy=F}$on(t,n){if(!Ze(n))return F;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(t){this.$$set&&!ct(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const wt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(wt);var Dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function St(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $e={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(Dt,function(){var n=1e3,i=6e4,r=36e5,u="millisecond",s="second",l="minute",c="hour",h="day",S="week",O="month",M="quarter",_="year",k="date",N="Invalid Date",Y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var d=["th","st","nd","rd"],f=y%100;return"["+y+(d[(f-20)%10]||d[f]||d[0])+"]"}},E=function(y,d,f){var g=String(y);return!g||g.length>=d?y:""+Array(d+1-g.length).join(f)+y},L={s:E,z:function(y){var d=-y.utcOffset(),f=Math.abs(d),g=Math.floor(f/60),o=f%60;return(d<=0?"+":"-")+E(g,2,"0")+":"+E(o,2,"0")},m:function y(d,f){if(d.date()<f.date())return-y(f,d);var g=12*(f.year()-d.year())+(f.month()-d.month()),o=d.clone().add(g,O),v=f-o<0,p=d.clone().add(g+(v?-1:1),O);return+(-(g+(f-o)/(v?o-p:p-o))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:O,y:_,w:S,d:h,D:k,h:c,m:l,s,ms:u,Q:M}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},z="en",q={};q[z]=m;var se="$isDayjsObject",K=function(y){return y instanceof ee||!(!y||!y[se])},Q=function y(d,f,g){var o;if(!d)return z;if(typeof d=="string"){var v=d.toLowerCase();q[v]&&(o=v),f&&(q[v]=f,o=v);var p=d.split("-");if(!o&&p.length>1)return y(p[0])}else{var A=d.name;q[A]=d,o=A}return!g&&o&&(z=o),o||!g&&z},I=function(y,d){if(K(y))return y.clone();var f=typeof d=="object"?d:{};return f.date=y,f.args=arguments,new ee(f)},D=L;D.l=Q,D.i=K,D.w=function(y,d){return I(y,{locale:d.$L,utc:d.$u,x:d.$x,$offset:d.$offset})};var ee=function(){function y(f){this.$L=Q(f.locale,null,!0),this.parse(f),this.$x=this.$x||f.x||{},this[se]=!0}var d=y.prototype;return d.parse=function(f){this.$d=function(g){var o=g.date,v=g.utc;if(o===null)return new Date(NaN);if(D.u(o))return new Date;if(o instanceof Date)return new Date(o);if(typeof o=="string"&&!/Z$/i.test(o)){var p=o.match(Y);if(p){var A=p[2]-1||0,j=(p[7]||"0").substring(0,3);return v?new Date(Date.UTC(p[1],A,p[3]||1,p[4]||0,p[5]||0,p[6]||0,j)):new Date(p[1],A,p[3]||1,p[4]||0,p[5]||0,p[6]||0,j)}}return new Date(o)}(f),this.init()},d.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return this.$d.toString()!==N},d.isSame=function(f,g){var o=I(f);return this.startOf(g)<=o&&o<=this.endOf(g)},d.isAfter=function(f,g){return I(f)<this.startOf(g)},d.isBefore=function(f,g){return this.endOf(g)<I(f)},d.$g=function(f,g,o){return D.u(f)?this[g]:this.set(o,f)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(f,g){var o=this,v=!!D.u(g)||g,p=D.p(f),A=function(R,V){var J=D.w(o.$u?Date.UTC(o.$y,V,R):new Date(o.$y,V,R),o);return v?J:J.endOf(h)},j=function(R,V){return D.w(o.toDate()[R].apply(o.toDate("s"),(v?[0,0,0,0]:[23,59,59,999]).slice(V)),o)},H=this.$W,C=this.$M,W=this.$D,X="set"+(this.$u?"UTC":"");switch(p){case _:return v?A(1,0):A(31,11);case O:return v?A(1,C):A(0,C+1);case S:var G=this.$locale().weekStart||0,x=(H<G?H+7:H)-G;return A(v?W-x:W+(6-x),C);case h:case k:return j(X+"Hours",0);case c:return j(X+"Minutes",1);case l:return j(X+"Seconds",2);case s:return j(X+"Milliseconds",3);default:return this.clone()}},d.endOf=function(f){return this.startOf(f,!1)},d.$set=function(f,g){var o,v=D.p(f),p="set"+(this.$u?"UTC":""),A=(o={},o[h]=p+"Date",o[k]=p+"Date",o[O]=p+"Month",o[_]=p+"FullYear",o[c]=p+"Hours",o[l]=p+"Minutes",o[s]=p+"Seconds",o[u]=p+"Milliseconds",o)[v],j=v===h?this.$D+(g-this.$W):g;if(v===O||v===_){var H=this.clone().set(k,1);H.$d[A](j),H.init(),this.$d=H.set(k,Math.min(this.$D,H.daysInMonth())).$d}else A&&this.$d[A](j);return this.init(),this},d.set=function(f,g){return this.clone().$set(f,g)},d.get=function(f){return this[D.p(f)]()},d.add=function(f,g){var o,v=this;f=Number(f);var p=D.p(g),A=function(C){var W=I(v);return D.w(W.date(W.date()+Math.round(C*f)),v)};if(p===O)return this.set(O,this.$M+f);if(p===_)return this.set(_,this.$y+f);if(p===h)return A(1);if(p===S)return A(7);var j=(o={},o[l]=i,o[c]=r,o[s]=n,o)[p]||1,H=this.$d.getTime()+f*j;return D.w(H,this)},d.subtract=function(f,g){return this.add(-1*f,g)},d.format=function(f){var g=this,o=this.$locale();if(!this.isValid())return o.invalidDate||N;var v=f||"YYYY-MM-DDTHH:mm:ssZ",p=D.z(this),A=this.$H,j=this.$m,H=this.$M,C=o.weekdays,W=o.months,X=o.meridiem,G=function(V,J,te,ue){return V&&(V[J]||V(g,v))||te[J].slice(0,ue)},x=function(V){return D.s(A%12||12,V,"0")},R=X||function(V,J,te){var ue=V<12?"AM":"PM";return te?ue.toLowerCase():ue};return v.replace(w,function(V,J){return J||function(te){switch(te){case"YY":return String(g.$y).slice(-2);case"YYYY":return D.s(g.$y,4,"0");case"M":return H+1;case"MM":return D.s(H+1,2,"0");case"MMM":return G(o.monthsShort,H,W,3);case"MMMM":return G(W,H);case"D":return g.$D;case"DD":return D.s(g.$D,2,"0");case"d":return String(g.$W);case"dd":return G(o.weekdaysMin,g.$W,C,2);case"ddd":return G(o.weekdaysShort,g.$W,C,3);case"dddd":return C[g.$W];case"H":return String(A);case"HH":return D.s(A,2,"0");case"h":return x(1);case"hh":return x(2);case"a":return R(A,j,!0);case"A":return R(A,j,!1);case"m":return String(j);case"mm":return D.s(j,2,"0");case"s":return String(g.$s);case"ss":return D.s(g.$s,2,"0");case"SSS":return D.s(g.$ms,3,"0");case"Z":return p}return null}(V)||p.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(f,g,o){var v,p=this,A=D.p(g),j=I(f),H=(j.utcOffset()-this.utcOffset())*i,C=this-j,W=function(){return D.m(p,j)};switch(A){case _:v=W()/12;break;case O:v=W();break;case M:v=W()/3;break;case S:v=(C-H)/6048e5;break;case h:v=(C-H)/864e5;break;case c:v=C/r;break;case l:v=C/i;break;case s:v=C/n;break;default:v=C}return o?v:D.a(v)},d.daysInMonth=function(){return this.endOf(O).$D},d.$locale=function(){return q[this.$L]},d.locale=function(f,g){if(!f)return this.$L;var o=this.clone(),v=Q(f,g,!0);return v&&(o.$L=v),o},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},y}(),he=ee.prototype;return I.prototype=he,[["$ms",u],["$s",s],["$m",l],["$H",c],["$W",h],["$M",O],["$y",_],["$D",k]].forEach(function(y){he[y[1]]=function(d){return this.$g(d,y[0],y[1])}}),I.extend=function(y,d){return y.$i||(y(d,ee,I),y.$i=!0),I},I.locale=Q,I.isDayjs=K,I.unix=function(y){return I(1e3*y)},I.en=q[z],I.Ls=q,I.p={},I})})($e);var Et=$e.exports;const At=St(Et),fe=[];function et(e,t=F){let n;const i=new Set;function r(l){if(ye(e,l)&&(e=l,n)){const c=!fe.length;for(const h of i)h[1](),fe.push(h,e);if(c){for(let h=0;h<fe.length;h+=2)fe[h][0](fe[h+1]);fe.length=0}}}function u(l){r(l(e))}function s(l,c=F){const h=[l,c];return i.add(h),i.size===1&&(n=t(r,u)||F),l(e),()=>{i.delete(h),i.size===0&&n&&(n(),n=null)}}return{set:r,update:u,subscribe:s}}const ke=et({}),Re=et({});function ze(e,t,n){const i=e.slice();return i[55]=t[n][0],i[56]=t[n][1],i[58]=n,i}function Fe(e){let t,n;return{c(){t=le("polyline"),b(t,"points",n=e[29].join(" ")),b(t,"stroke",e[18]),b(t,"fill","transparent")},m(i,r){B(i,t,r)},p(i,r){r[0]&536870912&&n!==(n=i[29].join(" "))&&b(t,"points",n),r[0]&262144&&b(t,"stroke",i[18])},d(i){i&&T(t)}}}function jt(e){let t,n,i,r,u;return{c(){t=le("circle"),b(t,"fill",n=e[9]&&e[26][e[23]]!==null&&e[26][e[23]]==e[55]?e[7]:"transparent"),b(t,"r",i=e[5]?parseInt(e[4]):e[24]/2),b(t,"cy",r=e[2]-e[30](e[56])),b(t,"cx",u=(parseInt(e[6])+e[24]+e[24]/Object.keys(e[0]).length)*e[58])},m(s,l){B(s,t,l)},p(s,l){l[0]&75498113&&n!==(n=s[9]&&s[26][s[23]]!==null&&s[26][s[23]]==s[55]?s[7]:"transparent")&&b(t,"fill",n),l[0]&16777264&&i!==(i=s[5]?parseInt(s[4]):s[24]/2)&&b(t,"r",i),l[0]&5&&r!==(r=s[2]-s[30](s[56]))&&b(t,"cy",r),l[0]&16777281&&u!==(u=(parseInt(s[6])+s[24]+s[24]/Object.keys(s[0]).length)*s[58])&&b(t,"cx",u)},d(s){s&&T(t)}}}function Ht(e){let t,n,i,r,u,s;return{c(){t=le("rect"),b(t,"style",n=e[10]?`transition: all ${e[10]}ms`:null),b(t,"opacity",i=e[9]&&e[26][e[23]]&&e[26][e[23]]!=e[55]?e[8]:1),b(t,"fill",e[7]),b(t,"width",e[24]),b(t,"height",r=e[17]=="line"?e[2]:e[30](e[56])),b(t,"x",u=(parseInt(e[6])+e[24])*e[58]),b(t,"y",s=e[2]-e[30](e[56]))},m(l,c){B(l,t,c)},p(l,c){c[0]&1024&&n!==(n=l[10]?`transition: all ${l[10]}ms`:null)&&b(t,"style",n),c[0]&75498241&&i!==(i=l[9]&&l[26][l[23]]&&l[26][l[23]]!=l[55]?l[8]:1)&&b(t,"opacity",i),c[0]&128&&b(t,"fill",l[7]),c[0]&16777216&&b(t,"width",l[24]),c[0]&131077&&r!==(r=l[17]=="line"?l[2]:l[30](l[56]))&&b(t,"height",r),c[0]&16777280&&u!==(u=(parseInt(l[6])+l[24])*l[58])&&b(t,"x",u),c[0]&5&&s!==(s=l[2]-l[30](l[56]))&&b(t,"y",s)},d(l){l&&T(t)}}}function qe(e){let t,n,i,r;function u(_,k){if(_[17]=="bar")return Ht;if(_[17]=="line")return jt}let s=u(e),l=s&&s(e);function c(){return e[43](e[55],e[58])}function h(){return e[44](e[55],e[58])}function S(){return e[45](e[55],e[58])}function O(){return e[46](e[55],e[58])}function M(){return e[47](e[55],e[58])}return{c(){l&&l.c(),t=le("rect"),b(t,"width",e[24]),b(t,"height",e[2]),b(t,"fill","transparent"),b(t,"x",n=(parseInt(e[6])+e[24])*e[58]),b(t,"tabindex",e[19])},m(_,k){l&&l.m(_,k),B(_,t,k),i||(r=[ne(t,"mouseover",c),ne(t,"focus",h),ne(t,"touchstart",S,{passive:!0}),ne(t,"click",O),ne(t,"keypress",M)],i=!0)},p(_,k){e=_,s===(s=u(e))&&l?l.p(e,k):(l&&l.d(1),l=s&&s(e),l&&(l.c(),l.m(t.parentNode,t))),k[0]&16777216&&b(t,"width",e[24]),k[0]&4&&b(t,"height",e[2]),k[0]&16777280&&n!==(n=(parseInt(e[6])+e[24])*e[58])&&b(t,"x",n),k[0]&524288&&b(t,"tabindex",e[19])},d(_){_&&T(t),l&&l.d(_),i=!1,de(r)}}}function Ke(e){let t,n;function i(s,l){return s[27][s[1]]!==null?It:Lt}let r=i(e),u=r(e);return{c(){t=Z("div"),u.c(),b(t,"class","tiny-linked-charts-value"),b(t,"style",n=e[15]=="floating"?`position: absolute; transform: translateX(${e[28]}px)`:null)},m(s,l){B(s,t,l),u.m(t,null)},p(s,l){r===(r=i(s))&&u?u.p(s,l):(u.d(1),u=r(s),u&&(u.c(),u.m(t,null))),l[0]&268468224&&n!==(n=s[15]=="floating"?`position: absolute; transform: translateX(${s[28]}px)`:null)&&b(t,"style",n)},d(s){s&&T(t),u.d()}}}function Lt(e){let t,n;return{c(){t=new Xe(!1),n=be(),t.a=n},m(i,r){t.m(e[12],i,r),B(i,n,r)},p(i,r){r[0]&4096&&t.p(i[12])},d(i){i&&(T(n),t.d())}}}function It(e){let t,n,i,r=(e[27][e[1]]||e[16])+"",u,s,l;return{c(){t=re(e[13]),n=ie(),i=Z("span"),u=re(r),s=ie(),l=re(e[14])},m(c,h){B(c,t,h),B(c,n,h),B(c,i,h),U(i,u),e[48](i),B(c,s,h),B(c,l,h)},p(c,h){h[0]&8192&&ge(t,c[13]),h[0]&134283266&&r!==(r=(c[27][c[1]]||c[16])+"")&&ge(u,r),h[0]&16384&&ge(l,c[14])},d(c){c&&(T(t),T(n),T(i),T(s),T(l)),e[48](null)}}}function Pt(e){let t,n,i,r,u,s,l,c,h,S,O,M=e[17]=="line"&&Fe(e),_=Ue(Object.entries(e[0])),k=[];for(let m=0;m<_.length;m+=1)k[m]=qe(ze(e,_,m));let N=[{width:e[3]},{height:u=e[17]=="line"?e[2]+e[24]/2:e[2]},{viewBox:s="0 0 "+e[3]+" "+e[2]},{preserveAspectRatio:l=e[20]?"true":"none"},e[33]],Y={};for(let m=0;m<N.length;m+=1)Y=je(Y,N[m]);let w=e[11]&&(e[27][e[1]]||e[12])&&Ke(e);return{c(){t=le("svg"),n=le("g"),M&&M.c(),i=be();for(let m=0;m<k.length;m+=1)k[m].c();c=ie(),w&&w.c(),h=be(),b(n,"transform",r="translate("+e[25]+", 0)"),We(t,Y)},m(m,E){B(m,t,E),U(t,n),M&&M.m(n,null),U(n,i);for(let L=0;L<k.length;L+=1)k[L]&&k[L].m(n,null);B(m,c,E),w&&w.m(m,E),B(m,h,E),S||(O=[ne(t,"mouseleave",e[32]),ne(t,"blur",e[32])],S=!0)},p(m,E){if(m[17]=="line"?M?M.p(m,E):(M=Fe(m),M.c(),M.m(n,i)):M&&(M.d(1),M=null),E[0]&1168771061|E[1]&1){_=Ue(Object.entries(m[0]));let L;for(L=0;L<_.length;L+=1){const z=ze(m,_,L);k[L]?k[L].p(z,E):(k[L]=qe(z),k[L].c(),k[L].m(n,null))}for(;L<k.length;L+=1)k[L].d(1);k.length=_.length}E[0]&33554432&&r!==(r="translate("+m[25]+", 0)")&&b(n,"transform",r),We(t,Y=Mt(N,[E[0]&8&&{width:m[3]},E[0]&16908292&&u!==(u=m[17]=="line"?m[2]+m[24]/2:m[2])&&{height:u},E[0]&12&&s!==(s="0 0 "+m[3]+" "+m[2])&&{viewBox:s},E[0]&1048576&&l!==(l=m[20]?"true":"none")&&{preserveAspectRatio:l},E[1]&4&&m[33]])),m[11]&&(m[27][m[1]]||m[12])?w?w.p(m,E):(w=Ke(m),w.c(),w.m(h.parentNode,h)):w&&(w.d(1),w=null)},i:F,o:F,d(m){m&&(T(t),T(c),T(h)),M&&M.d(),gt(k,m),w&&w.d(m),S=!1,de(O)}}}function Tt(e,t,n){let i,r,u,s,l;const c=["uid","data","labels","values","linked","height","width","barMinWidth","barMinHeight","hideBarBelow","grow","align","gap","fill","fadeOpacity","hover","transition","showValue","valueDefault","valuePrepend","valueAppend","valuePosition","valueUndefined","scaleMax","type","lineColor","tabindex","dispatchEvents","preserveAspectRatio","clickHandler"];let h=Be(t,c),S,O;He(e,ke,a=>n(26,S=a)),He(e,Re,a=>n(27,O=a));let{uid:M=(Math.random()+1).toString(36).substring(7)}=t,{data:_={}}=t,{labels:k=[]}=t,{values:N=[]}=t,{linked:Y=""}=t,{height:w=40}=t,{width:m=150}=t,{barMinWidth:E=4}=t,{barMinHeight:L=0}=t,{hideBarBelow:z=0}=t,{grow:q=!1}=t,{align:se="right"}=t,{gap:K=1}=t,{fill:Q="#ff3e00"}=t,{fadeOpacity:I=.5}=t,{hover:D=!0}=t,{transition:ee=0}=t,{showValue:he=!1}=t,{valueDefault:y="&nbsp;"}=t,{valuePrepend:d=""}=t,{valueAppend:f=""}=t,{valuePosition:g="static"}=t,{valueUndefined:o=0}=t,{scaleMax:v=0}=t,{type:p="bar"}=t,{lineColor:A=Q}=t,{tabindex:j=-1}=t,{dispatchEvents:H=!1}=t,{preserveAspectRatio:C=!1}=t,{clickHandler:W=(a,P)=>null}=t;const X=yt();let G=0,x=[],R;function V(){return v||(i?Math.max(...Object.values(_)):0)}function J(a){return a<z?0:Math.max(Math.ceil(parseInt(w)/u*a-(p=="line"?r/2:0))||0,L)}function te(){return Math.max((parseInt(m)-i*parseInt(K))/i,parseInt(E))}function ue(){return se=="left"?0:parseInt(K)+parseInt(m)-(parseInt(K)+r)*i}function tt(){let a=[];for(let P=0;P<Object.keys(_).length;P++)a.push([P*(r+parseInt(K)+r/Object.keys(_).length),w-J(Object.values(_)[P])]);return a}async function ve(a,P){D&&(Ee(ke,S[l]=a,S),await Ve(),H&&X("hover",{uid:M,key:a,index:P,linkedKey:l,value:O[M],valueElement:R,eventElement:event.target}))}async function nt(){D&&(Ee(ke,S[l]=null,S),await Ve(),H&&X("blur",{uid:M,linkedKey:l,valueElement:R,eventElement:event.target}))}const it=(a,P)=>ve(a,P),rt=(a,P)=>ve(a,P),lt=(a,P)=>ve(a,P),st=(a,P)=>W(a,P),ut=(a,P)=>W(a,P);function at(a){Le[a?"unshift":"push"](()=>{R=a,n(22,R)})}return e.$$set=a=>{t=je(je({},t),ht(a)),n(33,h=Be(t,c)),"uid"in a&&n(1,M=a.uid),"data"in a&&n(0,_=a.data),"labels"in a&&n(34,k=a.labels),"values"in a&&n(35,N=a.values),"linked"in a&&n(36,Y=a.linked),"height"in a&&n(2,w=a.height),"width"in a&&n(3,m=a.width),"barMinWidth"in a&&n(4,E=a.barMinWidth),"barMinHeight"in a&&n(37,L=a.barMinHeight),"hideBarBelow"in a&&n(38,z=a.hideBarBelow),"grow"in a&&n(5,q=a.grow),"align"in a&&n(39,se=a.align),"gap"in a&&n(6,K=a.gap),"fill"in a&&n(7,Q=a.fill),"fadeOpacity"in a&&n(8,I=a.fadeOpacity),"hover"in a&&n(9,D=a.hover),"transition"in a&&n(10,ee=a.transition),"showValue"in a&&n(11,he=a.showValue),"valueDefault"in a&&n(12,y=a.valueDefault),"valuePrepend"in a&&n(13,d=a.valuePrepend),"valueAppend"in a&&n(14,f=a.valueAppend),"valuePosition"in a&&n(15,g=a.valuePosition),"valueUndefined"in a&&n(16,o=a.valueUndefined),"scaleMax"in a&&n(40,v=a.scaleMax),"type"in a&&n(17,p=a.type),"lineColor"in a&&n(18,A=a.lineColor),"tabindex"in a&&n(19,j=a.tabindex),"dispatchEvents"in a&&n(41,H=a.dispatchEvents),"preserveAspectRatio"in a&&n(20,C=a.preserveAspectRatio),"clickHandler"in a&&n(21,W=a.clickHandler)},e.$$.update=()=>{e.$$.dirty[1]&24&&k.length&&N.length&&n(0,_=Object.fromEntries(k.map((a,P)=>[k[P],N[P]]))),e.$$.dirty[0]&1&&n(42,i=Object.keys(_).length),e.$$.dirty[0]&48|e.$$.dirty[1]&2048&&n(24,r=q?te():parseInt(E)),e.$$.dirty[0]&1&&(u=V()),e.$$.dirty[1]&2048&&n(25,s=i?ue():0),e.$$.dirty[1]&32&&n(23,l=Y||(Math.random()+1).toString(36).substring(7)),e.$$.dirty[0]&75497475&&Ee(Re,O[M]=S[l]?_[S[l]]:null,O),e.$$.dirty[0]&125861953&&g=="floating"&&n(28,G=(parseInt(K)+r)*Object.keys(_).indexOf(S[l])+s),e.$$.dirty[0]&131073&&p=="line"&&n(29,x=tt()),e.$$.dirty[0]&146800642|e.$$.dirty[1]&1024&&H&&X("value-update",{value:O[M],uid:M,linkedKey:l,valueElement:R}),e.$$.dirty[0]&524288&&j>0&&console.warn("Tabindex should not be higher than 0")},[_,M,w,m,E,q,K,Q,I,D,ee,he,y,d,f,g,o,p,A,j,C,W,R,l,r,s,S,O,G,x,J,ve,nt,h,k,N,Y,L,z,se,v,H,i,it,rt,lt,st,ut,at]}class Nt extends Se{constructor(t){super(),De(this,t,Tt,Pt,ye,{uid:1,data:0,labels:34,values:35,linked:36,height:2,width:3,barMinWidth:4,barMinHeight:37,hideBarBelow:38,grow:5,align:39,gap:6,fill:7,fadeOpacity:8,hover:9,transition:10,showValue:11,valueDefault:12,valuePrepend:13,valueAppend:14,valuePosition:15,valueUndefined:16,scaleMax:40,type:17,lineColor:18,tabindex:19,dispatchEvents:41,preserveAspectRatio:20,clickHandler:21},null,[-1,-1])}}function Ct(e){let t,n;return{c(){t=new Xe(!1),n=be(),t.a=n},m(i,r){t.m(e[0],i,r),B(i,n,r)},p(i,r){r&1&&t.p(i[0])},d(i){i&&(T(n),t.d())}}}function Bt(e){let t;return{c(){t=re(e[1])},m(n,i){B(n,t,i)},p(n,i){i&2&&ge(t,n[1])},d(n){n&&T(t)}}}function Wt(e){let t;function n(u,s){return u[1]?Bt:Ct}let i=n(e),r=i(e);return{c(){r.c(),t=be()},m(u,s){r.m(u,s),B(u,t,s)},p(u,[s]){i===(i=n(u))&&r?r.p(u,s):(r.d(1),r=i(u),r&&(r.c(),r.m(t.parentNode,t)))},i:F,o:F,d(u){u&&T(t),r.d(u)}}}function Yt(e,t,n){let i,r;He(e,ke,l=>n(3,r=l));let{linked:u}=t,{empty:s="&nbsp;"}=t;return e.$$set=l=>{"linked"in l&&n(2,u=l.linked),"empty"in l&&n(0,s=l.empty)},e.$$.update=()=>{e.$$.dirty&12&&n(1,i=r[u])},[s,i,u,r]}class Vt extends Se{constructor(t){super(),De(this,t,Yt,Wt,ye,{linked:2,empty:0})}}function Ut(e){let t,n,i,r,u,s,l,c,h,S,O,M,_,k,N,Y;return _=new Vt({props:{linked:"bilibili"}}),N=new Nt({props:{labels:e[1],values:e[2],showValue:!0,width:800,height:100,barMinWidth:5,fadeOpacity:.3,fill:"rgb(255, 0, 0)",valueAppend:"followers",valuePosition:"floating",linked:"bilibili"}}),{c(){t=Z("div"),n=Z("div"),n.innerHTML='<h1 class="text-3xl mr-2"><a class="hover:color-indigo" href="https://space.bilibili.com/401315430" target="_blank">XingTong</a></h1> <p class="text-lg text-gray-500">bilibili followers trend</p>',i=ie(),r=Z("p"),u=Z("span"),u.textContent="Last update:",s=ie(),l=Z("span"),c=Z("a"),h=re(e[0]),S=ie(),O=Z("div"),M=Z("div"),Ne(_.$$.fragment),k=ie(),Ne(N.$$.fragment),b(n,"class","absolute top-4 left-4 font-mono flex items-end"),b(u,"class","text-gray-400 mr-1"),b(c,"class","hover:color-indigo"),b(c,"href","https://github.com/ixingtong/visualization/blob/main/archive/bilibili.json"),b(c,"target","_blank"),b(l,"class","text-gray-600"),b(r,"class","absolute top-4 right-4"),b(M,"class","w-800px"),b(O,"class","w-full h-full flex flex-col justify-center items-center"),b(t,"class","h-screen w-screen")},m(w,m){B(w,t,m),U(t,n),U(t,i),U(t,r),U(r,u),U(r,s),U(r,l),U(l,c),U(c,h),U(t,S),U(t,O),U(O,M),Oe(_,M,null),U(M,k),Oe(N,M,null),Y=!0},p(w,[m]){(!Y||m&1)&&ge(h,w[0]);const E={};m&2&&(E.labels=w[1]),m&4&&(E.values=w[2]),N.$set(E)},i(w){Y||(Me(_.$$.fragment,w),Me(N.$$.fragment,w),Y=!0)},o(w){Te(_.$$.fragment,w),Te(N.$$.fragment,w),Y=!1},d(w){w&&T(t),we(_),we(N)}}}function Rt(e,t,n){let i,r=[],u=[];async function s(){const c=await(await fetch("/bilibili.json")).json();n(0,i=At(c.updateAt).format("YYYY-MM-DD HH:mm:ss"));const{relationStats:h=[]}=c;h.forEach(S=>{n(1,r=[...r,S.date]),n(2,u=[...u,S.follower])})}try{s()}catch(l){console.log(l)}return[i,r,u]}class zt extends Se{constructor(t){super(),De(this,t,Rt,Ut,ye,{})}}function Ft(e){let t,n;return t=new zt({}),{c(){Ne(t.$$.fragment)},m(i,r){Oe(t,i,r),n=!0},p:F,i(i){n||(Me(t.$$.fragment,i),n=!0)},o(i){Te(t.$$.fragment,i),n=!1},d(i){we(t,i)}}}class qt extends Se{constructor(t){super(),De(this,t,null,Ft,ye,{})}}const Kt=document.querySelector("#app");new qt({target:Kt});
